(this["webpackJsonphex-2048"]=this["webpackJsonphex-2048"]||[]).push([[0],{29:function(n,t,e){},30:function(n,t,e){},32:function(n,t,e){"use strict";e.r(t);var r=e(3),c=e(1),u=e.n(c),a=e(8),o=e.n(a),i="hex-2048/move",s="hex-2048/newLevel";function f(n){return{type:i,direction:n}}var d,b=e(7),l=e(6),v=e(14),h=e(4),j=e(16),x=e(9),O=e(5),m=e(2);function E(n,t,e){if(n+t+e===0)return{x:n,y:t,z:e};throw new Error("Inconsistent cube coordinates - ".concat(n," ").concat(t," ").concat(e))}!function(n){n.NW="NW",n.NE="NE",n.N="N",n.S="S",n.SW="SW",n.SE="SE"}(d||(d={}));var N=E(0,0,0);function p(n){return n.x+"_"+n.y+"_"+n.z}var z=Math.abs;function y(n,t){var e=n-(t-(1&t))/2;return E(t,-t-e,e)}function S(n,t){var e=n-(t+(1&t))/2;return E(t,-t-e,e)}var w=function(n){return O.b(Object(h.a)(n))};function g(n,t){O.a(-n,n).forEach((function(n){return t(n)}))}function M(n,t){return r=t,(z((e=N).x-r.x)+z(e.y-r.y)+z(e.z-r.z))/2<=n.size;var e,r}function W(n,t){var e=n.data.get(p(t));return void 0===e?x.none:x.some(e)}function C(n,t){var e=n.size%2===0?y:S;return O.a(-n.size,n.size).flatMap((function(r){return O.a(-n.size,n.size).map((function(c){var u=e(r,c),a=W(n,u);return t(u,a)}))}))}function D(n,t,e){var r=n;return O.a(-n.size,n.size).forEach((function(c){var u=[],a=[];O.a(-n.size,n.size).forEach((function(t){var r=e(c,t,-c-t),o=W(n,r);x.map((function(n){u.push(n),a.push(t)}))(o)}));var o=t(u);a.forEach((function(n,t){var u=e(c,n,-c-n);r=A(r,u,o[t])}))})),r}function F(n,t){return D(n,t,(function(n,t,e){return E(n,e,t)}))}function K(n,t){return D(n,t,(function(n,t,e){return E(e,n,t)}))}function k(n,t){return D(n,t,(function(n,t,e){return E(t,e,n)}))}function A(n,t,e){if(M(n,t))return{size:n.size,data:n.data.update(p(t),(function(){return e}))};throw new Error("Cannot update ".concat(t," as it is out of bounds for ").concat(n))}function B(n,t){return O.a(-n.size,n.size).flatMap((function(e){return O.a(-n.size,n.size).flatMap((function(r){return O.a(-n.size,n.size).flatMap((function(c){if(e+r+c===0){var u=E(e,r,c),a=n.data.get(p(u));if(void 0===a)throw new Error("Expected to find ".concat(u));return t(u,a)}return[]}))}))}))}function I(n){var t=function(n,t){return B(n,(function(n,e){return[t(n,e)]}))}(n,(function(n,t){return t}));return Math.max.apply(Math,Object(h.a)(t))}function L(n,t){console.log("Move and merge ".concat(t));var e=q(n,t);return q(function(n,t){switch(t){case d.NW:return k(n,G);case d.SE:return k(n,J);case d.N:return F(n,G);case d.S:return F(n,J);case d.NE:return K(n,G);case d.SW:return K(n,J)}}(e,t),t)}function G(n){if(n.length<=1)return n;var t=n[0],e=n[1],r=n.slice(2);return t===e?0===t?[t,e].concat(Object(h.a)(G(r))):[t+1,0].concat(Object(h.a)(G(r))):[t].concat(Object(h.a)(G([e].concat(Object(h.a)(r)))))}function J(n){return w(G(w(n)))}function R(n){var t,e=n.filter((function(n){return n>0}));return[].concat(Object(h.a)(e),Object(h.a)((t=n.length-e.length,new Array(t).fill(0))))}function _(n){return w(R(w(n)))}function q(n,t){switch(t){case d.NW:return k(n,R);case d.SE:return k(n,_);case d.N:return F(n,R);case d.S:return F(n,_);case d.NE:return K(n,R);case d.SW:return K(n,_)}}function H(n){return n?"".concat(Math.pow(2,n)):""}function V(n){var t,e=function(n,t){return B(n,(function(n,e){return t(e)?[n]:[]}))}(n,(function(n){return 0===n})),r=(t=2,e.map((function(n){return{order:Math.random(),value:n}})).sort((function(n,t){return n.order-t.order})).map((function(n){return n.value})).slice(0,t)),c=Math.random()>.5?1:2,u=n;return r.forEach((function(n){u=A(u,n,c)})),u}var X=P(2);function P(n){var t=V(function(n,t){var e=Object(j.a)();return g(n,(function(r){g(n,(function(c){g(n,(function(n){if(r+c+n===0){var u=E(r,c,n),a=p(u),o=t(u);e=e.set(a,o)}}))}))})),{size:n,data:e}}(n,(function(){return 0})));return{board:t,maxNumberSeen:I(t)}}var Q=Object(b.b)({hex2048:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0,e=n.board;switch(t.type){case i:var r=L(e,t.direction);if(r.data.equals(e.data))return n;var c=I(r),u=Math.max(n.maxNumberSeen,c);return Object(v.a)(Object(v.a)({},n),{},{maxNumberSeen:u,board:V(r)});case s:return P(t.size);default:return n}}}),T=Object(b.c)(Q),U=function(n){return n.hex2048},Y=function(){return Object(l.b)()};function Z(){var n=Y();return Object(r.jsxs)("div",{className:"buttons has-addons",children:[Object(r.jsx)("button",{className:"button",disabled:!0,children:"New Level"}),[1,2,3,4].map((function(t){return Object(r.jsx)("button",{className:"button",onClick:function(){return n({type:s,size:t})},children:t},t)}))]})}e(29);var $=["#D0D0D0","#B0D8A4","#CADB9E","#E4DE97","#FEE191","#FEC181","#FDA070","#FD8060","#F9715E","#F4615C","#F0525A","#EB4258"];function nn(n){return $[n]||$[$.length-1]}function tn(){var n=Object(l.c)(U).board,t=Y();return Object(r.jsx)("div",{id:"boardHexGrid-"+n.size,children:Object(r.jsx)("div",{className:"hexCrop",children:Object(r.jsx)("div",{className:"hexGrid",children:C(n,(function(n,e){var c=p(n),u=function(n){return 0===n.x&&0===n.y&&0===n.z?m.d:0===n.x?m.e(n.y>0?d.N:d.S):0===n.y?m.e(n.x>0?d.NE:d.SW):0===n.z?m.e(n.y>0?d.NW:d.SE):m.d}(n),a=m.a((function(){return"not-allowed"}),(function(n){return"".concat(n.toLowerCase(),"-resize")}))(u),o=m.a((function(){return{display:"none"}}),(function(n){return{backgroundColor:nn(n),cursor:a}}))(e),i=m.a((function(){return""}),H)(e);return Object(r.jsx)("div",{"data-coords":c,className:"hex",style:o,onClick:function(){return function(n){m.c((function(n){return t(f(n))}))(n)}(u)},children:i},c)}))})})})}e(30);function en(){var n=Y(),t=Object(l.c)(U).maxNumberSeen;var e=Object(c.useRef)(null);return Object(c.useEffect)((function(){var n;return null===(n=e.current)||void 0===n?void 0:n.focus()})),Object(r.jsxs)("div",{ref:e,className:"container game-board",tabIndex:-1,onKeyDown:function(t){"KeyC"===t.code?n(f(d.S)):"KeyV"===t.code?n(f(d.SE)):"KeyX"===t.code?n(f(d.SW)):"KeyE"===t.code?n(f(d.N)):"KeyW"===t.code?n(f(d.NW)):"KeyR"===t.code&&n(f(d.NE))},children:[Object(r.jsx)(Z,{}),Object(r.jsx)(tn,{}),Object(r.jsxs)("div",{children:["Max number seen: \xa0",Object(r.jsx)("span",{className:"has-text-weight-bold",style:{backgroundColor:nn(t),padding:"4px"},children:t>0?H(t):"none"})]})]})}var rn=function(){return Object(r.jsx)("section",{className:"section",children:Object(r.jsx)(en,{})})};e(31);o.a.render(Object(r.jsx)(u.a.StrictMode,{children:Object(r.jsx)(l.a,{store:T,children:Object(r.jsx)(rn,{})})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.e3cd38a8.chunk.js.map