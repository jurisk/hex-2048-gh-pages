(this["webpackJsonphex-2048"]=this["webpackJsonphex-2048"]||[]).push([[0],{34:function(A,n,t){},35:function(A,n,t){},37:function(A,n,t){"use strict";t.r(n);var e=t(3),r=t(1),q=t.n(r),a=t(11),u=t.n(a),c=t(9),o=t(7),i="hex-2048/new-level",f="hex-2048/move",s="hex-2048/new-state";function l(A){return{type:f,payload:A}}function d(A){return{type:s,payload:A}}var v,h=t(5);!function(A){A.NW="NW",A.NE="NE",A.N="N",A.S="S",A.SW="SW",A.SE="SE"}(v||(v={}));var p=[v.NW,v.NE,v.N,v.S,v.SW,v.SE],x=t(6),b=function(A){return x.b(Object(h.a)(A))};function m(A,n){x.a(-A,A).forEach((function(A){return n(A)}))}var E=t(18),j=t(13),S=t(2);function O(A,n,t){if(A+n+t===0)return{x:A,y:n,z:t};throw new Error("Inconsistent cube coordinates - ".concat(A," ").concat(n," ").concat(t))}var w=O(0,0,0);function y(A){return A.x+"_"+A.y+"_"+A.z}var N=Math.abs;function g(A,n){return e=n,(N((t=w).x-e.x)+N(t.y-e.y)+N(t.z-e.z))/2<=A.size;var t,e}function M(A,n,t){var e=A;return x.a(-A.size,A.size).forEach((function(r){var q=[],a=[];x.a(-A.size,A.size).forEach((function(n){var e=t(r,n,-r-n),u=function(A,n){var t=A.data.get(y(n));return void 0===t?j.none:j.some(t)}(A,e);j.map((function(A){q.push(A),a.push(n)}))(u)}));var u=n(q);a.forEach((function(A,n){var q=t(r,A,-r-A);e=k(e,q,(function(){return u[n]}))}))})),e}function Q(A,n){return M(A,n,(function(A,n,t){return O(A,t,n)}))}function z(A,n){return M(A,n,(function(A,n,t){return O(t,A,n)}))}function F(A,n){return M(A,n,(function(A,n,t){return O(n,t,A)}))}function k(A,n,t){if(g(A,n))return{size:A.size,data:A.data.update(y(n),(function(A){return t(A)}))};throw new Error("Cannot update ".concat(n," as it is out of bounds for ").concat(A))}function V(A,n){return I(A,(function(A,t){return[n(A,t)]}))}function I(A,n){return x.a(-A.size,A.size).flatMap((function(t){return x.a(-A.size,A.size).flatMap((function(e){return x.a(-A.size,A.size).flatMap((function(r){if(t+e+r===0){var q=O(t,e,r),a=A.data.get(y(q));if(void 0===a)throw new Error("Expected to find ".concat(q));return n(q,a)}return[]}))}))}))}function C(A){var n=V(A,(function(A,n){return n.value}));return Math.max.apply(Math,Object(h.a)(n))}function J(A,n){return I(A,(function(A,t){return n(t)?[A]:[]}))}var D=t(39);function B(){return A=P,{id:Object(D.a)(),value:A};var A}function W(A,n){return{id:A.id,value:n}}var P=0;function K(A,n){var t=Y(A,n);return Y(function(A,n){switch(n){case v.NW:return F(A,U);case v.SE:return F(A,X);case v.N:return Q(A,U);case v.S:return Q(A,X);case v.NE:return z(A,U);case v.SW:return z(A,X)}}(t,n),n)}function U(A){if(A.length<=1)return A;var n,t=A[0],e=A[1],r=A.slice(2);return t.value===e.value?0===t.value?[t,e].concat(Object(h.a)(U(r))):[(n=e,W(n,n.value+1)),B()].concat(Object(h.a)(U(r))):[t].concat(Object(h.a)(U([e].concat(Object(h.a)(r)))))}function X(A){return b(U(b(A)))}function G(A){if(A.every((function(A){return 0===A.value})))return A;var n,t=A.filter((function(A){return A.value>0}));return[].concat(Object(h.a)(t),Object(h.a)((n=A.length-t.length,new Array(n).fill(null).map((function(){return B()})))))}function T(A){return b(G(b(A)))}function Y(A,n){switch(n){case v.NW:return F(A,G);case v.SE:return F(A,T);case v.N:return Q(A,G);case v.S:return Q(A,T);case v.NE:return z(A,G);case v.SW:return z(A,T)}}function H(A){return A?"".concat(Math.pow(2,A)):""}function L(A){return p.every((function(n){return K(A,n).data.equals(A.data)}))}var Z={board:S.c,maxNumberSeen:P,gameOver:!1,moves:0};var R=t(4),_=t.n(R),$=t(20),AA=t(8),nA=new Audio("data:audio/mpeg;base64,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wZ0G7jqlt/OcDIKX+/1NblSX+VKfQfP8xuJJGk7////rf////+PgXTv///1JThJJQainmySAB6imUyuVbVttUo7T4Csa821OuF88f62+CZHFnGf///mQgYIEO0SMF2NVy9NxYTdlqJ8AuS4zr//SJoTUJ+CaKKTcZvosrUPo8W/MUv0f033E9E/QpN6P///v/////WRR2mwUAYUABjabRu1vrOLKAF0kIdHjnEx/iNWo7jGn1////mApxNTJQQOU1Het/NoUFTMQs6Vja///THaGIl/0fojl8mjd/Jo8W+ZfpNpCajsz7////6kn/////WRRgDz//LD1KSTDjKOciSAKxdLx5S31uYqKIWj/+5JECgAC8V5M6g9rdFyr6Vo9rW6KtHcr5DEJQRkSpLRklSigvVc4QpmyPe9H3zHR1/in9P/8VNCMJOzYUDyVjfwHP0ZgiZt/3/+9EBnDKbegdUrckhgntHaQ9vX/X/9A/////+r/////mJ3/9ItRcoVRogAcmV9N8z0pvES8QQsKoMGXEymPQyWm6E4HQLqgpv/CZJAtYXQSwoF8e6SB56zABEoW+qgZjJAZovGr0Gl5/OjFKL3JwnaX9v7/X8y1f/////////49WAzMzEYYMZLq6CUANIqbDX7lisBIdraAEPwShTRc9WZ2vAqBc4NQ9GrUNaw0Czcrte0g1NEoiU8NFjx4NFh54FSwlOlgaCp0S3hqo8SLOh3/63f7P/KgKJxxhgGSnAFMCnIogwU5JoqBIDAuBIiNLETyFmiImtYiDTSlb8ziIFYSFv/QPC38zyxEOuPeVGHQ77r/1u/+kq49//6g4gjoVQSUMYQUSAP8PwRcZIyh2kCI2OwkZICZmaZxgnsNY8DmSCWX0idhtz3VTJSqErTSB//1X7TTTVVV//uSZB2P8xwRJ4HvYcItQlWBACM4AAABpAAAACAAADSAAAAEVf/+qCE000VVVVU0002//+qqqqummmmr///qqqppppoqqqqppppoqqATkEjIyIxBlBA5KwUEDBBwkFhYWFhUVFfiqhYWFhcVFRUVFv/Ff/xUVFRYWFpMQU1FMy45OS41qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==");function tA(){return eA.apply(this,arguments)}function eA(){return(eA=Object(AA.a)(_.a.mark((function A(){return _.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",nA.play());case 1:case"end":return A.stop()}}),A)})))).apply(this,arguments)}function rA(){return Math.random()}function qA(A,n){return A.map((function(A){return{order:rA(),value:A}})).sort((function(A,n){return A.order-n.order})).map((function(A){return A.value})).slice(0,n)}function aA(A){return uA.apply(this,arguments)}function uA(){return(uA=Object(AA.a)(_.a.mark((function A(n){var t,e;return _.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return t=qA(n,2),e=rA()>.5?1:2,A.abrupt("return",t.map((function(A){return[A,e]})));case 3:case"end":return A.stop()}}),A)})))).apply(this,arguments)}function cA(A){return oA.apply(this,arguments)}function oA(){return(oA=Object(AA.a)(_.a.mark((function A(n){var t;return _.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:return t=J(n,(function(A){return A.value===P})),A.abrupt("return",aA(t).then((function(A){return A.reduce((function(A,n){var t=Object($.a)(n,2),e=t[0],r=t[1];return k(A,e,(function(A){return W(A,r)}))}),n)})));case 2:case"end":return A.stop()}}),A)})))).apply(this,arguments)}function iA(){return(iA=Object(AA.a)(_.a.mark((function A(n,t){var e,r,q,a;return _.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(e=S.a((function(){throw new Error("Expected to have state")}),(function(A){return A}))(n.board),!(r=K(e,t)).data.equals(e.data)){A.next=6;break}return A.abrupt("return",tA().then((function(){return n})));case 6:return q=C(r),a=Math.max(n.maxNumberSeen,q),A.abrupt("return",cA(r).then((function(A){return{maxNumberSeen:a,board:S.d(A),gameOver:L(A),moves:n.moves+1}})));case 9:case"end":return A.stop()}}),A)})))).apply(this,arguments)}var fA=Object(c.c)({hex2048:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case s:return n.payload;default:return A}}}),sA=Object(c.d)(fA,Object(c.a)((function(A){return function(n){return function(t){switch(t.type){case f:return function(A,n){return iA.apply(this,arguments)}(A.getState().hex2048,t.payload).then((function(n){return A.dispatch(d(n))}));case i:return(e=t.payload,cA(function(A,n){var t=Object(E.a)();return m(A,(function(e){m(A,(function(r){m(A,(function(A){if(e+r+A===0){var q=O(e,r,A),a=y(q),u=n(q);t=t.set(a,u)}}))}))})),{size:A,data:t}}(e,B)).then((function(A){return{board:S.d(A),maxNumberSeen:C(A),gameOver:!1,moves:0}}))).then((function(n){return A.dispatch(d(n))}));default:return n(t)}var e}}}))),lA=function(A){return A.hex2048},dA=function(){return Object(o.b)()};function vA(){var A=dA();return Object(e.jsxs)("div",{className:"buttons has-addons",children:[Object(e.jsx)("button",{className:"button",disabled:!0,children:"New Level"}),[1,2,3,4].map((function(n){return Object(e.jsx)("button",{className:"button",onClick:function(){return A({type:i,payload:n})},children:n},n)}))]})}t(34);var hA=["#D0D0D0","#B0D8A4","#CADB9E","#E4DE97","#FEE191","#FEC181","#FDA070","#FD8060","#F9715E","#F4615C","#F0525A","#EB4258"];function pA(A){return hA[A]||hA[hA.length-1]}function xA(A){var n=A.coords,t=A.cell,r=function(A){return 0===A.x&&0===A.y&&0===A.z?S.c:0===A.x?S.d(A.y>0?v.N:v.S):0===A.y?S.d(A.x>0?v.NE:v.SW):0===A.z?S.d(A.y>0?v.NW:v.SE):S.c}(n),q=S.a((function(){return"not-allowed"}),(function(A){return"".concat(A.toLowerCase(),"-resize")}))(r),a=function(A){return{x:1.5*A.x,y:Math.sqrt(3)/2*A.x+Math.sqrt(3)*A.z}}(n),u=2*A.boardSize+1,c=function(A){return A/u/2+.5},o=c(a.y),i=c(a.x),f=1/u*(Math.sqrt(3)/2),s=o-f/2,l=i-f/2,d=function(A){return 100*A+"%"},h={backgroundColor:pA(t.value),cursor:q,top:d(s),left:d(l),width:d(f),height:d(f)},p=H(t.value),x=S.a((function(){}),(function(n){return function(){return A.onClick(n)}}))(r),b="".concat(Math.floor(1/u*20),"vw");return Object(e.jsx)("div",{id:t.id,"data-x":n.x,"data-y":n.y,"data-z":n.z,"data-value":p,className:"hex",style:h,onClick:x,children:Object(e.jsx)("span",{className:"hex-text",style:{fontSize:b},children:p})})}function bA(){var A=Object(o.c)(lA).board,n=dA();function t(A){n(l(A))}return S.a((function(){return Object(e.jsx)("div",{className:"notification is-info",children:"Select a level"})}),(function(A){return Object(e.jsx)("div",{className:"hex-grid",children:V(A,(function(n,r){return Object(e.jsx)(xA,{coords:n,cell:r,boardSize:A.size,onClick:t},r.id)}))})}))(A)}t(35);function mA(){var A=dA(),n=Object(o.c)(lA),t=n.maxNumberSeen,q=n.gameOver,a=n.moves;var u=Object(r.useRef)(null);return Object(r.useEffect)((function(){var A;return null===(A=u.current)||void 0===A?void 0:A.focus()})),Object(e.jsxs)("div",{ref:u,className:"container game-board",tabIndex:-1,onKeyDown:function(n){"KeyS"===n.code?A(l(v.S)):"KeyD"===n.code?A(l(v.SE)):"KeyA"===n.code?A(l(v.SW)):"KeyW"===n.code?A(l(v.N)):"KeyQ"===n.code?A(l(v.NW)):"KeyE"===n.code&&A(l(v.NE))},children:[Object(e.jsx)(vA,{}),Object(e.jsx)(bA,{}),q?Object(e.jsx)("div",{className:"notification is-danger",children:"Game over!"}):null,Object(e.jsxs)("div",{className:"notification is-normal",children:[Object(e.jsx)("span",{className:"has-text-weight-bold",children:a}),"\xa0moves made. Maximum number seen:\xa0",Object(e.jsx)("span",{className:"has-text-weight-bold",style:{backgroundColor:pA(t),padding:"4px"},children:H(t)||"none"})]})]})}var EA=function(){return Object(e.jsx)("section",{className:"section",children:Object(e.jsx)(mA,{})})};t(36);u.a.render(Object(e.jsx)(q.a.StrictMode,{children:Object(e.jsx)(o.a,{store:sA,children:Object(e.jsx)(EA,{})})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.338446a8.chunk.js.map